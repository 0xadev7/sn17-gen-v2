# --- Core web stack ---
fastapi==0.115.0
uvicorn[standard]==0.30.6
python-multipart==0.0.12
pydantic==2.10.6

# --- Logging / config / utils ---
loguru==0.7.2
omegaconf==2.3.0
python-dotenv==1.0.1
configargparse==1.7
psutil==6.0.0
pyyaml==6.0.2
tqdm==4.66.5

# --- Array / SciPy stack (NumPy 2 compatible) ---
numpy==2.0.2
scipy==1.14.1
pandas==2.2.2
einops==0.8.0

# --- Imaging / CV ---
pillow==10.4.0
opencv-python==4.10.0.84           # NumPy 2.0-compatible build
scikit-image==0.25.2               # Current stable; NumPy 2 support
imageio[ffmpeg]==2.36.0            # de-duped + extras
kornia==0.7.3
timm==1.0.9

# --- 3D / geometry ---
trimesh==4.0.5
open3d==0.18.0
pygltflib
xatlas==0.0.9
pymeshlab==2023.12.post2
pythreejs==2.4.2

# --- HF / Diffusion stack ---
transformers==4.44.2
diffusers==0.31.0
accelerate==0.33.0
huggingface-hub==0.25.2
safetensors==0.4.4
sentencepiece==0.2.0
hf-transfer==0.1.6
httpx==0.27.2

# --- Torch ecosystem (see notes below) ---
# Use PyTorch 2.4.x + CUDA 12.x in your base image/env.
# xformers wheel for torch 2.4 typically targets cu121; use the cu121 index even on CUDA 12.4 hosts.
xformers==0.0.28.post1
torchmetrics==1.6.0
# Prefer modern Lightning (v2) to avoid old torch deps pulled by pytorch-lightning 1.x
lightning==2.4.0

# --- ML add-ons ---
onnxruntime==1.18.1                 # CPU build; switch to onnxruntime-gpu if you need CUDA
deepspeed==0.14.4
torchdiffeq==0.2.4

# --- Background removal / SR ---
rembg==2.0.65
realesrgan==0.3.0
basicsr==1.4.2

# --- CuPy (CUDA 12.x wheels) ---
cupy-cuda12x==13.4.1

# --- Build helpers ---
ninja==1.11.1.1
pybind11==2.13.6

# --- TB (nightly as requested) ---
tb_nightly==2.18.0a20240726

# --- Optional / heavy ---
bpy==4.2.0
